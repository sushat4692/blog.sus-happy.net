---
title: "WordPressのカスタム投稿タイプを試してみた"
date: 2011-04-21T01:30:53.000Z
updated: 2016-04-03T15:13:30.000Z
tags: 
  - PHP
  - Plugins
  - WordPress
  - カスタム投稿タイプ
---

WordPress3.0より導入されたカスタム投稿タイプを試してみました。

正直なところ最初は何に使うんだろう？と思って触っていませんでしたが、CMS利用を考えて構築を行うと非常に有用で、使い勝手が良いものでした。


## 準備（プラグインのインストール）

とはいっても、今回はソースコードを打って追加を行うことはしておらず、プラグインを利用させていただいて実装を行いました。

インストールしたプラグインは「[Custom Post Type UI](http://wordpress.org/extend/plugins/custom-post-type-ui/)」です。

インストール方法は他のプラグインと同様に、管理画面より検索してインストールを行うか、ソースコードを落として、/wp-content/pluginsにアップロードを行い、プラグインの画面から有効化するだけです。


## カスタム投稿タイプの追加

プラグインのインストールが完了すると、左サイドバーにCustom Post Type UIのメニューが表示され、その中の「Add New」で新規追加、「Manage Post Types」で編集を行うことが可能です。

とりあえず追加したい場合は「Post Type Name」と「Label」だけ記入して追加してしまえば大丈夫ですが、「Advanced Options」をクリックすることで色々設定することが出来ます。

追加を完了すると通常の投稿や固定ページと同じ用に、追加した投稿タイプの内容がサイドバーに現れるはずなので、そこから記事の投稿を行うことが出来ます。


## カスタム投稿タイプの記事を表示

通常の投稿や固定ページとは別扱いとなるので、このままでは表示されません。

表示をさせるにはテンプレート等に以下のような記述をする必要があります。

```php
<?php
$loop = new WP_Query( array( 'post_type' => 'gallery' ) );
if( $loop->have_posts() ) :
	while ( $loop->have_posts() ) :
		$loop->the_post();
?>
<!-- 表示内容 -->
<?php
	endwhile;
endif;
wp_reset_query();
?>
```

まだ試していませんが、カスタム投稿タイプに加えてカスタムタクソノミーを加えれば、表現の幅がぐんと広がりそうですね。

プラグインを使って無理やりぽいモノを作ってきましたが、純正の機能を利用してでもかなりブログから離れたCMSサイトが作れそうな気がしてきました。